%tr{ id: dom_id(invite) }
  %td
    .input-copy
      .input-copy__wrapper
        = copyable_input value: public_invite_url(invite_code: invite.code)
      %button{ type: :button }= t('generic.copy')

  - if invite.valid_for_use?
    %td
      = material_symbol 'person', 'user'
      = invite.uses
      = " / #{invite.max_uses.nil? ? '∞' : invite.max_uses}"
    %td
      - if invite.expires_at.nil?
        ∞
      - else
        %time.formatted{ datetime: invite.expires_at.iso8601, title: l(invite.expires_at) }
          = l invite.expires_at
  - else
    %td{ colspan: 2 }
      = t('invites.expired')

  %td
    = invite.comment

  %td
    - if invite.valid_for_use? && policy(invite).destroy?
      = table_link_to 'close', 'xmark', t('invites.delete'), invite_path(invite), method: :delete
